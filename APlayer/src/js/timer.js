class Timer{constructor(e){this.player=e,window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},this.types=["loading"],this.init()}init(){this.types.forEach((e=>{this[`init${e}Checker`]()}))}initloadingChecker(){let e=0,i=0,t=!1;this.loadingChecker=setInterval((()=>{this.enableloadingChecker&&(
// whether the audio is buffering
i=this.player.audio.currentTime,t||i!==e||this.player.audio.paused||(this.player.container.classList.add("aplayer-loading"),t=!0),t&&i>e&&!this.player.audio.paused&&(this.player.container.classList.remove("aplayer-loading"),t=!1),e=i)}),100)}enable(e){this[`enable${e}Checker`]=!0,"fps"===e&&this.initfpsChecker()}disable(e){this[`enable${e}Checker`]=!1}destroy(){this.types.forEach((e=>{this[`enable${e}Checker`]=!1,this[`${e}Checker`]&&clearInterval(this[`${e}Checker`])}))}}export default Timer;